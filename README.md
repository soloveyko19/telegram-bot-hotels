# Телеграм бот для работы с API стороннего сайта
___
## Команды бота
>1. [Команда /start](#start)
>2. [Команда /help](#help)
>3. [Команда /low](#low)
>4. [Команда /high](#high)
>5. [Команда /custom](#custom)
>6. [Команда /history](#history)
___
## Как запустить бота
Первым делом нужно создать файл с расширением .env в корне проекта.
Ввести туда данные по шаблону .env.template который находится в корне 
проекта. Следующим шагом необходимо создать виртуальное окружение проекта
дабы не засорять основной интерпритатор. После установки виртуального 
окружения нужно установить все необходимые библиотеки из файла 
requirements.txt. Сделать это можно командой __pip install requirements.txt__.
Далее нужно прописать в терминал команду __python main.py__ для запуска
проекта.
Позравляем, бот запущен!
___
## О командах бота
### Команда /start <a id="start"></a>
Эта команда служит для запуска бота, когда пользователь только встретился 
с ботом он воодит её и ему предлагается начать поиск отелей
### Команда /help <a id="help"></a> 
При вводе пользователем команды /help ему выводятся вссе команды которые 
могут быть использованы с этим ботом а также короткая справка по ним.
### Команда /low <a id="low"></a>
Команда /low предназначения для поиска самых дешевых отелей в городе.
У пользователя первым делом запрашивается город, далее если городов
с таким названием найдено несколько то пользователю даётся возможность 
выбрать город из клавиатуры которая показывается у пользователя на 
экране. Следующим шагом у пользователя спрашивается количество отелей
для вывода (минимально 1, максимально 10). Пользователю выводится
список отелей.
### Команда /high <a id="high"></a>
Команда /high предназначения для поиска самых дорогих отелей в городе.
Схема дейвствий аналогична команде [/low](#low), разница лишь в том
что вместо самых дешевых отелей в городе будут искаться самые дорогие
отели.
### Команда /custom <a id="custom"></a>
Комманда /custom предполагает собой поиск отелей по заданом пользователем
диапазоне цен. Первым делом, как и остальные поисковые команды, она 
запрашивает город для поиска, после того как искомый город был найден,
пользователю необходимо ввести минимальную цену за номер в отеле, которую
он хотел бы видеть, следующим шагом воодится максимальная цена за номер в 
отеле. Дальше аналогично другим командам выводит список отелей которые
попадают под все условия.
### Команда /history <a id="history"></a>
Эта команда взаимодействует с базой данных в которую при каждом найденом
отеле записываются название отеля а также команда с помощью которой отель
был найден, если пользователь еще не искал ни одного отеля то выводится
соответствующее сообщение
___
## О структуре проекта
В данном проекте все расфасовано по отдельным модулям и директориям.
- Директория config_data хранит в себе один модуль config.py, в этом модуле
загружаются все необходимые данные для этого бота, а именно ключ от API
отелей из файла .env и оттуда же выгружается ключ к Телеграм боту.
- Директория database состоит из 3-х файлов:
  - db_functions.py - этот модуль содержит все функции которые используются
  в проекте для работы с базой данных
  - models.py - этот модуль хранит в себе модели базы данных
  - telegram_bot.db - сама база данных
- В директории handlers есть две папки:
  - default handlers - базовые обработчики сообещний
  - custom  handlers - остальные обработчики сообщений
- В директории keyboards хранятся клавиатуры
- Директория states содержит в себе файл states.py в котором прописаны все 
состояния которые испольлзуются в проекте
- Директория utils содержит следующее:
  - set_bot_commands.py - этот модуль сожержит функцию которая устанавливает
  базовые комманды для бота
  - Директория misc в которой лежит модуль api_requests.ру который хранит в 
  себе все функции для работы с API стороннего сайта
- Файл .env.template - шаблон для файла .env в котором хранятся секретные ключи
- Файл loader.py служит для подгрузки всех элементов бота
- Файл main.py служит для запуска бота по команде __python main.py__
- Файл requirements.txt содержит все нужные не встроенные модули которые
нужно установить для работы проекта
